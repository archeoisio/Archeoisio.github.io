<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<title>Mappa Leaflet FLAG</title>

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

<!-- LocateControl CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.76.0/dist/L.Control.Locate.min.css" />

<!-- Leaflet Routing Machine CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />

<!-- Leaflet Control Geocoder CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />

<style>
  html, body { margin:0; padding:0; height:100%; overflow:hidden; }
  #map { position:fixed; top:0; left:0; width:100%; height:100%; }

  #route-box {
    display:none;
    position:absolute;
    bottom:60px;
    right:20px;
    background:white;
    padding:10px;
    border-radius:8px;
    box-shadow:0 0 5px rgba(0,0,0,0.2);
    z-index:1000;
    flex-direction:column;
    gap:6px;
  }

  #route-box input { padding:5px; font-size:12px; }
  #route-box button { padding:6px; font-size:12px; cursor:pointer; }

  /* Info panel trasparente */
  #info-panel {
    display:none;
    position:absolute;
    bottom:40px;
    left:15px;
    width:150px;
    min-height:80px;
    background:rgba(0,0,0,0.5);
    color:white;
    padding:10px;
    border-radius:8px;
    font-family:sans-serif;
    font-size:12px;
    z-index:1000;
  }

  .leaflet-control-locate a,
  .leaflet-control-home,
  .leaflet-control-route {
    width:44px !important;
    height:44px !important;
    display:flex !important;
    justify-content:center !important;
    align-items:center !important;
    font-size:25px !important;
    background:white !important;
    border-radius:4px !important;
    border:none !important;
    padding:0 !important;
    margin:0 !important;
    line-height:1 !important;
  }
</style>
</head>

<body>
  <div id="map"></div>

  <div id="info-panel"><div id="info-content"></div></div>

  <div id="route-box">
    <input type="text" id="start" placeholder="Partenza" />
    <input type="text" id="end" placeholder="Arrivo" />
    <button id="route-btn">Calcola</button>
    <button id="clear-btn">Reset</button>
  </div>

  <!-- JS Libraries -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.76.0/dist/L.Control.Locate.min.js"></script>
  <script src="https://unpkg.com/leaflet-labeltextcollision"></script>
  <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

  <!-- Il tuo script principale -->
  <script src="map-flag.js"></script>
</body>
</html>
